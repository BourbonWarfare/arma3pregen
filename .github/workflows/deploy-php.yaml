name: Deploy php site

on:
  workflow_dispatch:
  push:
    branches:
      - main

jobs:
  deploy:
    name: ðŸš€ Deploy sources
    runs-on: ubuntu-latest

    steps:
      - name: ðŸšš Get latest code
        uses: actions/checkout@v2

      - name: ðŸ“‚ Sync files
        uses: SamKirkland/FTP-Deploy-Action@4.1.0
        with:
          server: "${{ secrets.FTP_HOSTNAME }}"
          username: "${{ secrets.FTP_USERNAME }}"
          password: "${{ secrets.FTP_PASSWORD }}"
          server-dir: "/"
          exclude: "[**/.git*, **/.git*/**, docker-compose.yml, server.ts, server.js, backend/index.ts, backend/index.js]"
          dry-run: false #DEBUG
